# Project Overview

⚠️ DO NOT EDIT THIS FILE. This is a reference for context only.
- Do not edit or overwrite this file (append-only edits belong in Log, ToDo, or Known Issues).
- This is the high-level guide to project goals, scope, and phased roadmap.

---

## 1. Project Summary
- **Name:** Ultimate PDF
- **Description:** This app will be a web-hosted PDF editor with many functions. It will be a one-stop-shop for otherwise difficult PDF edits such as redacting, splitting, merging, and extracting. Notably, it will feature a smart-redactor that can do **fuzzy matching**, delete permanently at the text layer, and redact by pattern (i.e. SSN, CC#).
- **Core Purpose:** This will make the job of mass editing PDFs quicker and easier. The redaction function is the star of the show and will allow reliable, permanent mass-redaction of words or phrases even if there are typos, aliases, or misspellings in the document. 

---

## 2. High-Level Goals
- [ ] Provide users with ability to do difficult PDF edits and extracts on a pay-per-use or subscription basis. 
- [ ] Provide state-of-the-art **fuzzy matching** and regex searched mass-redaction across text **and** image layers in PDFs.
- [ ] Allow users to fine-tune edits before finalizing the document. Human-in-the-loop. 
- [ ] Permanent deletion. When something is redacted, it is deleted completely and cannot be recovered by any forensic method. 
- [ ] Ensure consistent formatting and predictable conventions across backend and frontend.  
- [ ] Prioritize simplicity, reliability, and maintainability over feature creep. 
- [ ] Security and privacy: [e.g., no sensitive data stored, temporary file handling only].  
- [ ] Tests required for all new features, we cannot ship a product that is faulty.

---

## 3. Stack
- **Backend:** Python (Django).  
- **Frontend:** TypeScript (React/Next.js if relevant), HTML, CSS (Tailwind or BEM).  
- **Features:** Fuzzy matching (this is our product differentiator). PDF intake, edits, return/download capability. No longterm storage of customer data. Stripe integration for payments. 
- **Deployment:** TBD

---

## 4. In-Scope
- PDF Redaction
    - Automatic based on user inputs
    - Fuzzy matching
        - User interface to step through fuzzy matches and approve or disapprove
    - Regex matching with easy GUI (users shouldn't need to know regex)
    - Text layer permanent deletion
    - Image recognition to find matches in images or scanned PDFs
    - User interface to add manual redactions

- PDF Splitting
    - Split one PDF into multiple PDFs
        - Set pages or by pattern (i.e. "Split at the end of each chapter")

- PDF Merging
    - Merge PDFs into single PDF

- PDF Extraction
    - Extract Data from different PDF sources:
        - Images
        - Tables
        - Text/paragraph
        - Metadata 
    - This is the one exception where files returned to the user will not be PDF, but will instead be appropriate filetypes for the data type

---

## 5. Out-of-Scope
- Heavy persistent data storage (no complex database interactions beyond minimal Django ORM).  
- Realtime collaboration features.  
- Native mobile apps.  
- Other document file types - we will only work with PDFs. 

---

## 6. Primary Users/Use Cases
- Legal professionals needing a reliable redactor for sensitive information
- Compliance officers handling PHI/PII
- Hospitals and research organizations redacting patient information
- Business users who need to split/merge PDFs (invoices, etc.)
- Business users and consultants working with forms and large PDF information repositories
- Users needing to do analysis on data stored in tables embedded in PDFs
- Government agencies needing to redact before releasing declassified material

---

## 7. Technology Decisions
- **Python version:** 3.12 
- **Django version:** 5.2.5 LTS 
- **TypeScript strict mode:** Enabled  
- **CSS convention:** Tailwind if available, otherwise BEM
- **State management:** Zustand (not Context API)  
- **Testing:** pytest (backend), Jest/Vitest (frontend)  
- **Optical Character Recognition:** Pytesseract, CV2
- **Business Model:** Subscription AND pay-per-use

---

## 8. Security
- Uploaded PDFs should **never** be stored.
- Finalized documents should only be temporarily stored - long enough to be reviewed and downloaded, and no more than 8 hours. 
- No file contents are logged or persisted.
- User accounts that store usage data and payment data are encrypted and secured. 

---

## 9. Phased Roadmap
_Phases are sequential, not overlapping. New ideas go into “Future Enhancements.”_

**Phase 1 – Core Functionality**  
- Set up Django + frontend scaffold.  
- Establish CI/CD pipeline and test suite.  
- Implement basic file upload → process → return.
    - Redaction
        - Fuzzy matching
        - Regex
        - Text-layer deletion
        - Optical Character Recognition
    - Splitting
    - Merging
    - Extracting
        - Tables
        - Text
        - Images
        - Metadata


**Phase 2 – Usability Enhancements**  
- Add user-friendly frontend components (drag-and-drop, progress bar).
    - Manual redaction
    - Redaction approval for fuzzy matches
- Basic error handling + logging.  
- Style with consistent UI framework.  

**Phase 3 – Advanced Features**  
- Add configurable file retention options:
    - Delete immediately after download
    - Delete automatically after 24-hours
- Export formats (e.g. PDF, CSV).  
- Role-based permissions.
- Stripe payment integration.   

**Phase 4 – Polishing & Deployment**  
- Documentation + help screens.  
- Security hardening.  
- Production deployment.  

---

## 10. Future Enhancements (Ideas Parking Lot)
⚠️ These are *not* in-scope for current phases but may be revisited.  
- Integration with Office, Monday, or other document processing suites.  
- Enterprise accounts with multiple users and storage  
- Processing other file types (.docx, .csv, .jpg, etc.)
- Mobile app or mobile/web hybrid wrapper.  
- AI API integrations - perhaps a smart layer that reviews edits. 

*(Add date when each idea was logged to track progression.)*  
